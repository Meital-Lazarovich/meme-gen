<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MemeGen</title>
    <link rel="stylesheet" href="css/main.css">
</head>

<body onload="initCanvas()">
    <div class="screen" onclick="closeShareModal()"></div>
    <header class="flex container space-between align-center small">
        <a href="index.html" class="logo"><img src="img/icons/logo.png"/></a>
        <ul class="nav-bar flex clean-list">
            <li><a href="index.html" class="nav-item flex justify-center align-center">Gallery</a></li>
            <li><a href="saved.html" class="nav-item flex justify-center align-center">Saved</a></li>
            <li><a href="#" class="nav-item flex justify-center align-center">About</a></li>
        </ul>
    </header>
    <main class="editor flex space-around align-center">
        <canvas class="canvas" width="500" height="500" 
        onmousedown="onCanvasClicked(event)" ontouchstart="onCanvasClicked(event)"
        onmouseout="onCanvasClickEnd(event)" onmouseup="onCanvasClickEnd(event)"
        ontouchend="onCanvasClickEnd(event)"
        onmousemove="onCanvasClickMove(event)" ontouchmove="onCanvasClickMove(event)"
        ></canvas>
        <section class="props flex column align-center space-between">
            <div><input type="text" class="line-input" oninput="onChangeTxt(this.value)" placeholder="Type your funny text here"/></div>
            <div class="line-props flex align-center space-between">
                <div class="edit-props flex align-center space-between">
                    <button onclick="onSwitchLine()" title="switch line"><img src="img/icons/switch.png"/></button>
                    <button title="add line" onclick="onAddLine()"><img src="img/icons/add.png"/></button>
                    <button title="remove line" onclick="onRemoveLine()"><img src="img/icons/trash.png"/></button>
                </div>
                <div class="text-props flex align-center space-between">
                    <button class="text" onclick="onChangeFontSize(-5)" title="decrease font"><img src="img/icons/decrease-font.png"/></button>
                    <button class="text" onclick="onChangeFontSize(5)" title="increase font"><img src="img/icons/increase-font.png"/></button>
                    <button class="text" title="align left" onclick="onChangeAlign('left')"><img src="img/icons/align-left.png"/></button>
                    <button class="text" title="align center" onclick="onChangeAlign('center')"><img src="img/icons/center-text.png"/></button>
                    <button class="text" title="align right" onclick="onChangeAlign('right')"><img src="img/icons/align-right.png"/></button>
                </div>
            </div>
            <div class="font-props flex space-between align-center">
                <select class="select-font" title="text font" onchange="onChangeFont(this.value)">
                    <option value="Impact" class="font-impact">Impact</option>
                    <option value="Comic Sans MS" class="font-comic">Comic</option>
                    <option value="Arial Black" class="font-arial">Arial</option>
                </select>
                <button title="stroke color" class="stroke-color"><label for="stroke-color"><img src="img/icons/text-stroke.png"/></label></button>
                <input type="color" id="stroke-color" class="color-input" onchange="onChangeColor('strokeColor', this.value)"/>
                <button title="text color" class="txt-color"><label for="txt-color"><img src="img/icons/color.png"/></label></button>
                <input type="color" id="txt-color" class="color-input" onchange="onChangeColor('txtColor', this.value)"/>
            </div>
            
            <button class="share-btn" onclick="openShareModal()">Share</button>
            <section class="share-modal modal closed flex column align-center justify-center">
                <button class="close-btn" onclick="closeShareModal()">X</button>
                <form action="" method="POST" enctype="multipart/form-data" onsubmit="onShareMeme(this, event)">
                    <input name="img" class="imgData" type="hidden" />
                    <button class="share-btn" type="submit">Share</button>
                    <div class="share-container"></div>
                </form>
                <button class="share-btn"><a href="#" onclick="onDownloadMeme(this)" download="my-meme.jpg">Download</a></button>
                <button class="share-btn" onclick="onSaveMeme()">Save</button>
            </section>
        </section>
    </main>
    <footer class="flex column space-around align-center small">
            <img class="logo" src="img/icons/logo.png"/>
            <p>&copy; Meital Lazarovich 2019</p>
    </footer>

    <script src="js/util.js"></script>
    <script src="js/meme-service.js"></script>
    <script src="js/gallery.js"></script>
    <script src="js/editor.js"></script>
</body>

</html>